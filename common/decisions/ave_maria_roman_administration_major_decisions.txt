########################################################################################
#                                         											   #
# AVE MARIA decisions																   #
# A Very Extensive Modification for Appropriate Realism and Improved Authenticity	   #
#                                         											   #
# Roman Administration Decisions						                        	   #
#                               													   #
########################################################################################

## Written by Atreides

# Be crowned basileus
ave_maria_roman_administration_imperial_coronation_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_ave_maria_roman_administration_imperial_coronation.dds"
	major = yes
	desc = ave_maria_roman_administration_imperial_coronation_decision_desc

	ai_check_interval = 6

	is_shown = {
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire			
		}
		NOT = {
			has_trait = basileus  
			has_character_flag = imperial_coronation_started_preparations
		}
	}

	is_valid = {
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire			
		}
		NOT = {
			has_character_flag = imperial_coronation_started_preparations
		}
	}

	cost = {
		# add_gold = -150
	}

	effect = {
		custom_tooltip = ave_maria_roman_administration_imperial_coronation_decision_tooltip
		# trigger_event = ave_maria_roman_administration_events.0003
		save_scope_as = actor
		
		capital_province = {
			spawn_activity = {
				type = activity_roman_administration_imperial_coronation
				owner = root
			}
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

## Name a Junior emperor
## Only if already has the trait basileus can you use this Junior emperor ceremony
ave_maria_roman_administration_junior_emperor_coronation_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_ave_maria_roman_administration_imperial_coronation.dds"
	desc = ave_maria_roman_administration_junior_emperor_coronation_decision_desc
	major = yes
	ai_check_interval = 12

	is_shown = {
		is_landed = yes
		is_independent_ruler = yes
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire			
		}
		has_trait = basileus
		any_relation = {
			type = junior_emperor
			NOT = { has_trait = junior_emperor }
		}
		NOT = {
			has_character_flag = imperial_coronation_started_preparations
		}
	}

	is_valid = {	
		is_physically_able_adult = yes
		prestige > 150
	}

	cost = {					
		prestige = 150
		# gold = 300
	}

	effect = {
		save_temporary_scope_as = roman_administration_emperor
		random_relation = {
			limit = {
				type = junior_emperor
			}
			save_temporary_scope_as = roman_administration_emperor_heir
		}
		capital_province = {
			spawn_activity = {
				type = activity_roman_administration_imperial_coronation
				owner = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
	
	ai_priority = 100
}

## Decision for the Emperor to give more power to the Senate
ave_maria_roman_administration_give_power_to_the_senate = {
	picture = "gfx/interface/illustrations/decisions/decision_ave_maria_roman_administration_senate.dds"
	major = yes
	desc = ave_maria_roman_administration_give_power_to_the_senate_desc

	ai_check_interval = 72

	is_shown = {
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire			
		}
	}

	is_valid = {
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire			
		}
	}

	cost = {
		prestige = 2000
	}

	effect = {
		custom_tooltip = ave_maria_roman_administration_give_power_to_the_senate_decision_tooltip
		save_scope_as = actor
		
		title:e_byzantium = {
			if = {
				limit = {
					OR = {
						has_variable = roman_administration_senate_political_relevance_medium
					}
				}
				remove_variable = roman_administration_senate_political_relevance_medium
			}
			set_variable = {
				name = roman_administration_senate_political_relevance_high
				value = yes
			}
		}
	}
}

## Outfit an Imperial Expedition
ave_maria_roman_administration_imperial_expedition = {
	picture = "gfx/interface/illustrations/decisions/z_ave_maria_decision_imperial_expedition.dds"
	major = yes
	desc = ave_maria_roman_administration_imperial_expedition_desc

	ai_check_interval = 72

	is_shown = {
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire			
		}
		is_at_war = yes
		any_character_war = {
			OR = {
				primary_attacker = root
				primary_defender = root
			}
		}
		NOT = {
			has_variable = roman_administration_imperial_expedition
		}
		religion = religion:christianity_religion
	}

	is_valid = {
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire			
		}
		NOT = {
			has_variable = roman_administration_imperial_expedition
		}
	}

	effect = {
		custom_tooltip = ave_maria_roman_administration_imperial_expedition_tooltip
		save_scope_as = actor

		

		hidden_effect = {
			trigger_event = ave_maria_roman_administration_imperial_expedition_events.0001
		}
	}
}